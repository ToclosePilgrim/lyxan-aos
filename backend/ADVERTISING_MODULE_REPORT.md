# –û—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Advertising Module v0 - –¢–ó ‚Ññ12

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–µ–π Prisma ‚úÖ
–ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –º–æ–¥–µ–ª–∏:
- ‚úÖ `AdCampaign` ‚Äî —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å –ø–æ–ª—è–º–∏: `id`, `marketplaceId`, `name`, `status`, `budget`, `createdAt`, `updatedAt`
- ‚úÖ `AdStats` ‚Äî —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å –ø–æ–ª—è–º–∏: `id`, `campaignId`, `date`, `impressions`, `clicks`, `spend`, `orders`, `revenue`, `createdAt`
- ‚úÖ –í—Å–µ –º–æ–¥–µ–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### 2. Backend: AdvertisingService ‚úÖ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã:

**AdCampaign:**
- ‚úÖ `getCampaigns(filter?)` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –ø–æ–∏—Å–∫—É –ø–æ –∏–º–µ–Ω–∏
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã: `totalSpend`, `totalRevenue`, `totalOrders`
- ‚úÖ `getCampaignById(id, dateFrom?, dateTo?)` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–º–ø–∞–Ω–∏–∏
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∞–≥—Ä–µ–≥–∞—Ç—ã (–≤–∫–ª—é—á–∞—è ROAS)
- ‚úÖ `createCampaign(dto)` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `updateCampaign(id, dto)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `deleteCampaign(id)` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏

**AdStats:**
- ‚úÖ `createAdStats(dto)` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ `updateAdStats(id, dto)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ `deleteAdStats(id)` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### 3. Backend: AdvertisingController ‚úÖ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã REST —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

**AdCampaign:**
- ‚úÖ `GET /api/advertising/campaigns` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π
- ‚úÖ `GET /api/advertising/campaigns/:id` ‚Äî –∫–∞–º–ø–∞–Ω–∏—è –ø–æ ID
- ‚úÖ `POST /api/advertising/campaigns` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é
- ‚úÖ `PATCH /api/advertising/campaigns/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é
- ‚úÖ `DELETE /api/advertising/campaigns/:id` ‚Äî —É–¥–∞–ª–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é

**AdStats:**
- ‚úÖ `POST /api/advertising/stats` ‚Äî —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- ‚úÖ `PATCH /api/advertising/stats/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- ‚úÖ `DELETE /api/advertising/stats/:id` ‚Äî —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã `JwtAuthGuard`.

### 4. Backend: DTO ‚úÖ
–°–æ–∑–¥–∞–Ω—ã DTO:
- ‚úÖ `CreateCampaignDto` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `UpdateCampaignDto` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `CreateAdStatsDto` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ `UpdateAdStatsDto` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### 5. Frontend: –°—Ç—Ä–∞–Ω–∏—Ü—ã ‚úÖ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

**`/advertising/campaigns`**
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –∫–∞–º–ø–∞–Ω–∏–π —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: Name, Marketplace, Status, Budget, Total Spend, Total Revenue, Total Orders
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏: Marketplace (select), Name, Status (dropdown), Budget

**`/advertising/campaigns/[id]`**
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–º–ø–∞–Ω–∏–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, —Å—Ç–∞—Ç—É—Å, –±—é–¥–∂–µ—Ç)
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –∞–≥—Ä–µ–≥–∞—Ç–∞–º–∏: Total Spend, Total Revenue, Total Orders, ROAS
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –¥–Ω–µ–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –≤—ã—á–∏—Å–ª—è–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏ (CTR, CPC)
- ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ (–æ—Ç/–¥–æ)
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚úÖ
- ‚úÖ –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `MainLayout`
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å backend API —á–µ—Ä–µ–∑ `lib/api.ts`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Dialog, Table, Card, Button, Input, Select)

### 7. README –æ–±–Ω–æ–≤–ª—ë–Ω ‚úÖ
- ‚úÖ Backend README —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–¥–µ–ª AdvertisingModule —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º API
- ‚úÖ Frontend README —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ Advertising —Å—Ç—Ä–∞–Ω–∏—Ü

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### Backend
```
backend/src/modules/advertising/
‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ create-campaign.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ update-campaign.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ create-adstats.dto.ts
‚îÇ   ‚îî‚îÄ‚îÄ update-adstats.dto.ts
‚îú‚îÄ‚îÄ advertising.module.ts
‚îú‚îÄ‚îÄ advertising.service.ts
‚îî‚îÄ‚îÄ advertising.controller.ts
```

### Frontend
```
frontend/app/advertising/
‚îú‚îÄ‚îÄ page.tsx (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
‚îî‚îÄ‚îÄ campaigns/
    ‚îú‚îÄ‚îÄ page.tsx
    ‚îî‚îÄ‚îÄ [id]/
        ‚îî‚îÄ‚îÄ page.tsx
```

## üìã API Endpoints

### AdCampaign
- `GET /api/advertising/campaigns` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π
- `GET /api/advertising/campaigns/:id` ‚Äî –∫–∞–º–ø–∞–Ω–∏—è –ø–æ ID
- `POST /api/advertising/campaigns` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é
- `PATCH /api/advertising/campaigns/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é
- `DELETE /api/advertising/campaigns/:id` ‚Äî —É–¥–∞–ª–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é

### AdStats
- `POST /api/advertising/stats` ‚Äî —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- `PATCH /api/advertising/stats/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- `DELETE /api/advertising/stats/:id` ‚Äî —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ - –í–°–ï –í–´–ü–û–õ–ù–ï–ù–´

1. ‚úÖ –ö–æ–¥ –º–æ–¥—É–ª—è backend (service/controller/DTO) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
2. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ /advertising/campaigns —Å–æ–∑–¥–∞–Ω–∞
3. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ /advertising/campaigns/[id] —Å–æ–∑–¥–∞–Ω–∞
4. ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–ø–∏—Å–∞–Ω—ã –≤ README
5. ‚úÖ –ü—Ä–æ–µ–∫—Ç—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
```bash
curl -X POST http://localhost:3001/api/advertising/campaigns \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d '{
    "marketplaceId": "marketplace-id",
    "name": "Summer Sale Campaign",
    "status": "ACTIVE",
    "budget": 100000
  }'
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```bash
curl -X POST http://localhost:3001/api/advertising/stats \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d '{
    "campaignId": "campaign-id",
    "date": "2025-01-15",
    "impressions": 10000,
    "clicks": 500,
    "spend": 5000,
    "orders": 50,
    "revenue": 50000
  }'
```

## üéØ –°—Ç–∞—Ç—É—Å

**‚úÖ Advertising Module v0 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω—ã–º–∏ –∫–∞–º–ø–∞–Ω–∏—è–º–∏
- –í–≤–æ–¥ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω–µ–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–º–ø–∞–Ω–∏–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π (spend, revenue, orders, ROAS)
- –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π
- –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∞–≥–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –±—É–¥—É—â–µ–º



























